var Presskit=Presskit||{};!function(){$(document).ready(function(){Presskit.Controller.init()})}(),function(t,e){e.Controller=function(){function e(){n(),t(window).resize(c),c()}function n(){t.loadTemplates({url:"data/loads.json",onEnded:i})}function i(){t.pageswitcher({links:".plink",mobile:".mplink",pages:".section",attr:"path",bgtarget:"body",bgattr:"bg",speed:250,mobilebtn:".mobile-link",mobilecontainer:".mobile-menu",logo:".logo",backgrounds:!0,current:"keyart"}),r(),s()}function r(){t(".cast").presskitSlideShow({thumbs:".t-cast",items:".character",next:".cast-next",prev:".cast-prev",speed:.5,selected:"selected",directional:!0}),t(".production").presskitSlideShow({thumbs:".t-prod",items:".prod",next:".prod-next",prev:".prod-prev",speed:.5,selected:"selected",directional:!0,onSwitch:function(e){"true"==e.attr("image")?t(".prod-arrows").addClass("withimage"):t(".prod-arrows").removeClass("withimage")}})}function s(){t(".gallery").presskitGallery({thumbs:".gallery-item",list:".gallery-list",viewcontainer:".gallery-view",viewer:".image-view",next:".g-next",prev:".g-prev",close:".g-close",speed:.5,selected:"selected",source:'<img src="{{path}}" />',caption:".image-desc",captionsource:"{{caption}}"}),t(".videos").presskitGallery({thumbs:".video-item",list:".video-items",viewcontainer:".video-container",viewer:".videoplayer-content",close:".closevideo",speed:.5,selected:"selected",source:'<iframe src="{{path}}?footer=false&amp;cid=010815ots1tr1" width="100%" height="100%" frameborder="0"></iframe>',path:"path",caption:".player-copy",captionsource:'<div class="video-name">{{name}}</div><div class="video-desc">{{desc}}</div>'})}function c(){var e=(t(window).width(),t(window).height()),n=t(".footer").height(),i=Number(t(".content").css("top").slice(0,-2)),r=e-n-i;t(".keyart").height(r)}return{init:e}}()}($,Presskit),function(t,e,n,i,r){t.loadTemplates=function(n){var i={url:"data/loads.json",onEnded:function(){}},r=this;return r.settings={},r.init=function(){r.settings=t.extend(i,n||{}),r.loadJSON()},r.loadJSON=function(){t.getJSON(r.settings.url,function(t){r.loads=t.loads.length,r.count=0;for(var e in t.loads)r.loadData(t.loads[e])})},r.loadData=function(e){t.ajax({url:e.data,dataType:"json",success:function(t){r.loadTemplate(t,e)}})},r.loadTemplate=function(n,i){var s=t(i.template).html(),c=e.compile(s),o=c(n);t(i.parent).html(o),r.count++,r.count==r.length&&r.ended()},r.ended=function(){setTimeout(function(){r.settings.onEnded.call()},100)},r.init(n),r}}(jQuery,Handlebars,window,document),function(t,e,n,i){t.pageswitcher=function(e){var n={links:".plink",mobile:".mplink",pages:".section",bgtarget:"body",bgattr:"bg",bgsize:"cover",attr:"path",speed:500,current:"home",mobilebtn:".mobilelink",mobilecontainer:".mobile-list",backgrounds:!0,onChange:function(){}},i=this;return i.settings={},i.init=function(){i.settings=t.extend(n,e||{}),i.links=t(i.settings.links),i.mobile=t(i.settings.mobile),i.pages=t(i.settings.pages),i.target=t(i.settings.bgtarget),i.current=i.settings.current,i.setupPages(),i.addClicks()},i.setupPages=function(){i.pages.hide(),t("."+i.current).show(),i.settings.onChange.call(i,i.pages.attr("id")),t(".l"+i.current).length>0?(i.target.css("background",t(".l"+i.current).attr(i.settings.bgattr)),i.target.css("background-size",i.settings.bgsize)):i.target.attr("style","")},i.addClicks=function(){t(i.settings.links).click(function(){i.loadPage(t(this).attr(i.settings.attr))}),t(i.settings.mobile).click(function(){i.loadPage(t(this).attr(i.settings.attr))}),t(i.settings.mobilebtn).click(function(){var e=t(i.settings.mobilecontainer);"none"!=e.css("display")?e.hide():e.slideDown(i.settings.speed)}),t(i.settings.logo).click(function(){i.loadPage(t(this).attr("path"))})},i.loadPage=function(e){t(i.settings.mobilecontainer).hide(),i.current!=e&&t("."+i.current).fadeOut(i.settings.speed,function(){t("."+e).fadeIn(i.settings.speed);i.settings.onChange.call(i,t("."+e).attr("id")),i.current=e,i.settings.backgrounds&&(i.target.css("background",t(".l"+i.current).attr(i.settings.bgattr)),i.target.css("background-size",i.settings.bgsize))})},i.init(e),i}}(jQuery,window,document),function(t,e,n,i){var r=function(e,n){function r(){u.thumbs.click(function(){var e=Number(t(this).attr(l.attr));c(e)}),a.find(l.next).click(function(){var t=u.current;t++,t==u.thumbs.length&&(t=0),s(t)}),a.find(l.prev).click(function(){var t=u.current;t--,0>t&&(t=u.thumbs.length-1),s(t)}),u.close.click(function(){u.viewcontainer.hide(),u.list.show()}),u.viewcontainer.swipe({swipeLeft:function(){a.find(l.next).trigger("click")},swipeRight:function(){a.find(l.prev).trigger("click")}})}function s(e){l.onStart.call(i,u.thumbs.eq(u.current)),u.viewer.children().fadeOut(1e3*l.speed,function(){t(this).remove(),u.current=e,l.onSwitch.call(i,u.thumbs.eq(u.current));var n=l.source;n=o(n,u.thumbs.eq(u.current)),u.viewer.html(n);var r=o(l.captionsource,u.thumbs.eq(u.current));u.caption.html(r),u.viewer.children().hide().fadeIn(1e3*l.speed,function(){l.onEnd.call(i,u.thumbs.eq(u.current))})})}function c(t){u.current=t,l.onStart.call(i,u.thumbs.eq(u.current)),u.list.hide(),u.viewer.html(""),u.viewcontainer.show();var e=l.source;e=o(e,u.thumbs.eq(u.current)),u.viewer.html(e);var n=o(l.captionsource,u.thumbs.eq(u.current));u.caption.html(n),u.viewer.children().hide().fadeIn(1e3*l.speed,function(){l.onEnd.call(i,u.thumbs.eq(u.current))})}function o(t,e){for(var n=t.split("{{"),i=0;i<n.length;i++){var r=n[i].split("}}");r.length>1&&(r[0]=e.attr(r[0])),n[i]=r.join("")}return t=n.join("")}var a=t(e),l=t.extend({thumbs:".thumbs",list:".list",attr:"n",current:0,viewcontainer:".container",viewer:".view",next:".next",prev:".prev",close:".close",speed:1,selected:"selected",source:"<img src={{path}} />",caption:".image-desc",captionsource:"{{caption}}",onStart:function(){},onSwitch:function(){},onEnd:function(){}},n||{}),u={};this.el=a,this.init=function(){u.thumbs=a.find(l.thumbs),u.list=a.find(l.list),u.viewcontainer=a.find(l.viewcontainer),u.viewer=a.find(l.viewer),u.caption=a.find(l.caption),u.close=a.find(l.close),u.current=0,r()}};t.fn.presskitGallery=function(e){return this.each(function(){var n=t(this),i=new r(this,e);n.data("presskitGallery",i),i.init()})}}(jQuery,window,document),function(t,e,n,i,r){var s=function(n,i){function s(){l.thumbs.click(function(){var e=Number(t(this).attr(a.attr));if(e!=l.current){var n=e>l.current?1:0;c(e,n)}}),o.find(a.next).click(function(){var t=l.current;t++,t==l.items.length&&(t=0),c(t,1)}),o.find(a.prev).click(function(){var t=l.current;t--,0>t&&(t=l.items.length-1),c(t,-1)}),l.items.swipe({swipeLeft:function(){o.find(a.next).trigger("click")},swipeRight:function(){o.find(a.prev).trigger("click")}})}function c(t,n){var i,s;1!=n&&a.directional?(i="200%",s="-100%"):(i="-100%",s="200%"),a.onStart.call(r,l.items.eq(l.current)),e.to(l.items.eq(l.current),a.speed,{left:i,onComplete:function(){l.items.eq(l.current).attr("style","").hide(),a.onSwitch.call(r,l.items.eq(l.current)),e.from(l.items.eq(l.current),a.speed,{left:s,onComplete:function(){a.onEnd.call(r,l.items.eq(l.current)),l.items.eq(l.current).attr("style","").show()}}),l.items.eq(l.current).show()}}),l.thumbs.eq(l.current).removeClass(a.selected),l.current=t,l.thumbs.eq(l.current).addClass(a.selected)}var o=t(n),a=t.extend({thumbs:".thumbs",attr:"n",current:0,items:".items",next:".next",prev:".prev",speed:1,selected:"selected",directional:!0,onStart:function(){},onSwitch:function(){},onEnd:function(){}},i||{}),l={};this.el=o,this.init=function(){l.current=a.current,l.items=o.find(a.items),l.thumbs=o.find(a.thumbs),l.thumbs.eq(l.current).addClass(a.selected),s()}};t.fn.presskitSlideShow=function(e){return this.each(function(){var n=t(this),i=new s(this,e);n.data("presskitSlideShow",i),i.init()})}}(jQuery,TweenLite,window,document);